<!DOCTYPE html>
<html>
<head>
    <title>Upload Fundus Image</title>
    <style>
        #error-message {
            color: red;
            font-weight: bold;
            margin-top: 10px;
            display: none;
        }
    </style>
</head>

<body>
    <h1 style="text-align:center; font-size: 3em; margin-bottom: 20px;">NEVISIGHT</h1>

    <form method="POST" action="/upload" enctype="multipart/form-data">
        <label>Choose File:
            <input type="file" id="fileInput" name="file" required>
        </label><br><br>

        <div id="error-message">File type not supported.</div>

        <div id="metadataFields" style="display:none;">
            <label>Patient Name: <input type="text" name="patient_name"></label><br><br>
            <label>Age: <input type="number" name="age"></label><br><br>
            <label>Eye:
                <select name="eye">
                    <option value="Left">Left</option>
                    <option value="Right">Right</option>
                </select>
            </label><br><br>
        </div>

        <label>Select AI Model:
            <select name="model">
                <option value="default">Default Model</option>
            </select>
        </label><br><br>

        <button id="submitBtn" type="submit" disabled>Upload & Analyze</button>
    </form>

    <!-- JavaScript should be loaded after all HTML elements exist -->
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
